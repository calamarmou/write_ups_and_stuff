#!/usr/bin/env python3

import struct, socket, random, time
import sys

secret = random.Random()
r = b""

while b"Congratulations" not in r :
    secret.seed(int(time.time()))
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(("5424c7b503b42ece.247ctf.com", 50062))
    guess = "{:.12f}".format(secret.random()).encode("utf-8")
    #data = struct.pack("1f", guess)
    print(f"Trying {guess}\r", end = "")
    sys.stdout.flush()
    r = s.recv(512)
    s.send(guess)
    r = s.recv(512)
    s.close()

print(f"The answer was {guess} !")
print(r)
